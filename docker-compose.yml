version: "3" 

services: 
  web-server:
    image: cjswosa22/web-server:0.0.1

    volumes: 
      - ./web-server/html:/usr/share/nginx/html
      - ./web-server/nginx:/etc/nginx

    environment: 
      - NGINX_HOST=0.0.0.0 
      - NGINX_PORT=80 
    ports: 
      - 8080:80
      - 8081:5000

    build: 
      dockerfile: ./dockerfiles/web-server.Dockerfile